# Story 5.2: Task Card Redesign

## Story Info
- **Epic:** [Epic 5 - Professional UI/UX Polish](./epic-5-professional-ui-polish.md)
- **Points:** 8
- **Priority:** P0 (Core Component)
- **Dependencies:** Story 5.1 (Color System Enhancement)

## User Story

**As a** user managing tasks on my board,
**I want** task cards that feel premium and communicate priority/status visually,
**So that** I can quickly scan my board and focus on what matters most.

## Background

Current state:
- Cards have basic shadows and borders
- Priority badges are small and use text symbols
- Hover states are functional but not delightful
- Cards lack depth and visual hierarchy

Target state (reference: Linear, Notion):
- Cards have layered shadows creating depth
- Priority is immediately visible through color accents
- Hover elevates cards with smooth animation
- Clear visual hierarchy: title > metadata > actions

## Acceptance Criteria

### AC1: Card Visual Depth
- [ ] Cards have subtle layered shadow (not flat)
- [ ] Elevated appearance on hover (translateY + shadow increase)
- [ ] Smooth transition (150-200ms ease-out)
- [ ] Dragging state has prominent shadow and slight rotation
- [ ] Works in both light and dark themes

### AC2: Priority Visual Prominence
- [ ] Priority shown as left border accent (4px colored bar)
- [ ] Critical: Red left border + subtle red tint on card
- [ ] High: Orange left border
- [ ] Medium: Blue left border
- [ ] Low: Gray left border (very subtle)
- [ ] None: No left border accent
- [ ] Priority badge still visible but secondary to border

### AC3: Card Layout Optimization
- [ ] Consistent padding: 12px horizontal, 10px vertical
- [ ] Title: 14px, medium weight, proper line-height
- [ ] Description preview: 12px, muted, max 2 lines
- [ ] Metadata row: labels, time, link indicator aligned
- [ ] Minimum card height: 56px for visual consistency

### AC4: Interactive States
- [ ] Default: Subtle border, base shadow
- [ ] Hover: Elevated shadow, slight scale (1.01), border highlight
- [ ] Active/Pressed: Scale down slightly (0.99)
- [ ] Dragging: Max elevation, rotation, ring outline
- [ ] Selected: Primary ring indicator

### AC5: Metadata Display
- [ ] Labels: Compact pills below title (max 3 visible + overflow count)
- [ ] Timer: Subtle monospace, only visible when has time or hovering
- [ ] Link indicator: Small icon when task contains URLs
- [ ] Due date: (future) Placeholder for date display area

## Technical Implementation

### File Changes
| File | Changes |
|------|---------|
| `src/components/Task/TaskCard.tsx` | Complete visual overhaul |
| `src/components/Task/PriorityBadge.tsx` | Add border accent variant |
| `src/index.css` | Card-specific shadow tokens |

### Shadow Tokens
```css
:root {
  --shadow-card: 0 1px 3px oklch(0 0 0 / 0.04), 0 1px 2px oklch(0 0 0 / 0.06);
  --shadow-card-hover: 0 4px 12px oklch(0 0 0 / 0.08), 0 2px 4px oklch(0 0 0 / 0.04);
  --shadow-card-drag: 0 12px 28px oklch(0 0 0 / 0.15), 0 4px 8px oklch(0 0 0 / 0.08);
}

.dark {
  --shadow-card: 0 1px 3px oklch(0 0 0 / 0.2), 0 1px 2px oklch(0 0 0 / 0.3);
  --shadow-card-hover: 0 4px 12px oklch(0 0 0 / 0.3), 0 2px 4px oklch(0 0 0 / 0.2);
  --shadow-card-drag: 0 12px 28px oklch(0 0 0 / 0.4), 0 4px 8px oklch(0 0 0 / 0.3);
}
```

### TaskCard Structure
```tsx
<div className={cn(
  "relative bg-card rounded-xl overflow-hidden",
  "border border-border/60",
  "shadow-card hover:shadow-card-hover",
  "transition-all duration-150 ease-out",
  "hover:-translate-y-0.5 hover:border-primary/20",
  priority !== 'none' && "border-l-4",
  priorityBorderColors[priority]
)}>
  {/* Content */}
</div>
```

## Testing Requirements

- [ ] Visual: Compare before/after in light mode
- [ ] Visual: Compare before/after in dark mode
- [ ] Interaction: Test all hover/active states
- [ ] Drag: Verify drag overlay looks correct
- [ ] Priority: Test all 5 priority levels
- [ ] Performance: Ensure smooth 60fps animations

## Definition of Done

- [ ] Cards have professional shadow depth
- [ ] Priority accent borders implemented
- [ ] Hover elevation animation working
- [ ] Drag state visually distinct
- [ ] Both themes look polished
- [ ] No performance regressions

---

*Agent: @dev*
*Created: 2026-01-31*
