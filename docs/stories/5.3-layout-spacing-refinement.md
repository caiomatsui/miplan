# Story 5.3: Layout & Spacing Refinement

## Story Info
- **Epic:** [Epic 5 - Professional UI/UX Polish](./epic-5-professional-ui-polish.md)
- **Points:** 5
- **Priority:** P1 (Foundation)
- **Dependencies:** Story 5.1 (Color System Enhancement)

## User Story

**As a** user working with my kanban board,
**I want** a clean, spacious layout that uses screen real estate effectively,
**So that** I can see more content without feeling cramped or overwhelmed.

## Background

Current state:
- Spacing is inconsistent across components
- Some areas feel cramped, others have excess whitespace
- Column widths may not optimize for content
- Header/sidebar proportions not refined

Target state (reference: Linear, Asana):
- Consistent 4px/8px spacing grid
- Optimal column widths for task cards
- Balanced whitespace creating visual rhythm
- Header and sidebar properly proportioned

## Acceptance Criteria

### AC1: Spacing Grid System
- [ ] Base unit: 4px (0.25rem)
- [ ] Common spacings: 4, 8, 12, 16, 24, 32, 48px
- [ ] All component padding uses grid values
- [ ] All margins/gaps use grid values
- [ ] Document spacing tokens in CSS

### AC2: Column Optimization
- [ ] Default column width: 320px (optimal for cards)
- [ ] Study planner columns: Flexible based on day names
- [ ] Column gap: 16px between columns
- [ ] Column internal padding: 12px
- [ ] Scrollable area has proper insets

### AC3: Header Refinement
- [ ] Header height: 56px (consistent)
- [ ] Logo/title area: Proper alignment with sidebar
- [ ] Actions area: Balanced spacing
- [ ] Search/commands: Centered or right-aligned appropriately
- [ ] Breathing room around interactive elements

### AC4: Board Area Optimization
- [ ] Board padding: 24px on edges
- [ ] Columns start aligned with content grid
- [ ] Horizontal scroll has momentum/smooth behavior
- [ ] Empty state centered properly
- [ ] Maximum content width considerations

### AC5: Responsive Considerations
- [ ] Sidebar collapse works smoothly
- [ ] Board expands to fill available space
- [ ] Minimum viable widths defined
- [ ] No horizontal overflow on common screen sizes
- [ ] Touch targets minimum 44px on interactive elements

## Technical Implementation

### File Changes
| File | Changes |
|------|---------|
| `src/index.css` | Spacing tokens, grid utilities |
| `src/components/Board/Board.tsx` | Board padding and layout |
| `src/components/Board/Column.tsx` | Column sizing refinements |
| `src/components/Header/Header.tsx` | Header height and spacing |
| `src/components/Sidebar/Sidebar.tsx` | Sidebar width and padding |

### Spacing Tokens
```css
:root {
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
  --space-12: 3rem;    /* 48px */

  --header-height: 3.5rem;    /* 56px */
  --sidebar-width: 16rem;     /* 256px */
  --sidebar-collapsed: 0rem;  /* 0px when hidden */
  --column-width: 20rem;      /* 320px */
  --column-gap: 1rem;         /* 16px */
}
```

### Layout Structure
```
+--------------------------------------------------+
|  Header (56px)                                   |
+----------+---------------------------------------+
|          |                                       |
| Sidebar  |  Board Area                           |
| (256px)  |  - 24px padding                       |
|          |  - Columns (320px each, 16px gap)     |
|          |                                       |
+----------+---------------------------------------+
```

## Testing Requirements

- [ ] Measure all spacings against 4px grid
- [ ] Test column widths at different screen sizes
- [ ] Verify header alignment with sidebar toggle
- [ ] Check touch targets are >= 44px
- [ ] Test horizontal scroll behavior

## Definition of Done

- [ ] Spacing tokens defined and documented
- [ ] All components use consistent grid
- [ ] Column widths optimized
- [ ] Header properly proportioned
- [ ] Board area uses space effectively
- [ ] No visual regressions

---

*Agent: @dev*
*Created: 2026-01-31*
